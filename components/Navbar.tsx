"use client";

import { useState } from "react";

import Link from "next/link";
import {
  Menu,
  Settings,
  FileText,
  Gift,
  Grid,
  Bug,
  UserPlus,
  LogOut,
  ChevronRight,
} from "lucide-react";
import { cn } from "@/lib/utils";
import { useUser } from "@/hooks/useUser";

const navItems = [
  {
    name: "Home",
    href: "#",
    icon: (
      <svg
        width="13"
        height="14"
        viewBox="0 0 13 14"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M0.913437 12.7532H4.133V8.24356C4.133 8.0749 4.18952 7.93403 4.30256 7.82098C4.4156 7.70794 4.55647 7.65142 4.72515 7.65142H7.67383C7.83144 7.65142 7.96713 7.70794 8.0809 7.82098C8.19466 7.93403 8.25154 8.0749 8.25154 8.24356V12.7532H11.4711V4.94923C11.4711 4.90649 11.4618 4.86776 11.4431 4.83304C11.4244 4.79832 11.399 4.7676 11.3669 4.7409L6.34452 0.969542C6.30178 0.937487 6.25103 0.921458 6.19227 0.921458C6.13351 0.921458 6.08276 0.937487 6.04002 0.969542L1.0176 4.7409C0.985549 4.7676 0.960174 4.79832 0.941479 4.83304C0.922785 4.86776 0.913437 4.90649 0.913437 4.94923V12.7532ZM0 12.7532V4.95671C0 4.76528 0.0386111 4.58926 0.115833 4.42867C0.193055 4.26808 0.311493 4.13267 0.471146 4.02242L5.49356 0.235583C5.69852 0.0785274 5.93085 0 6.19054 0C6.45024 0 6.68372 0.0785274 6.89098 0.235583L11.9134 4.02242C12.073 4.13267 12.1915 4.26808 12.2687 4.42867C12.3459 4.58926 12.3845 4.76528 12.3845 4.95671V12.7532C12.3845 13.0014 12.2944 13.2157 12.114 13.3961C11.9337 13.5764 11.7194 13.6666 11.4711 13.6666H7.93025C7.76158 13.6666 7.62073 13.6101 7.50769 13.497C7.39463 13.384 7.3381 13.2431 7.3381 13.0745V8.56485H5.04644V13.0745C5.04644 13.2431 4.98971 13.384 4.87625 13.497C4.76279 13.6101 4.62748 13.6666 4.47031 13.6666H0.907062C0.663646 13.6666 0.451611 13.5764 0.270958 13.3961C0.0903194 13.2157 0 13.0014 0 12.7532Z"
          fill="#56616B"
        />
      </svg>
    ),
  },
  {
    name: "Analytics",
    href: "#",
    icon: (
      <svg
        width="15"
        height="15"
        viewBox="0 0 15 15"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M3.72171 10.9984C3.8506 10.9984 3.95831 10.9542 4.04483 10.8658C4.13138 10.7775 4.17465 10.667 4.17465 10.5344V6.1546C4.17465 6.03306 4.12975 5.92776 4.03996 5.83869C3.95017 5.74963 3.84396 5.7051 3.72133 5.7051C3.58765 5.7051 3.47754 5.74963 3.391 5.83869C3.30447 5.92776 3.26121 6.03306 3.26121 6.1546V10.5344C3.26121 10.667 3.30574 10.7775 3.39479 10.8658C3.48386 10.9542 3.59283 10.9984 3.72171 10.9984ZM7.0326 10.9984C7.16148 10.9984 7.26919 10.9542 7.35573 10.8658C7.44226 10.7775 7.48552 10.667 7.48552 10.5344V3.50238C7.48552 3.38082 7.44063 3.27551 7.35085 3.18646C7.26106 3.09739 7.15485 3.05285 7.03223 3.05285C6.89855 3.05285 6.78844 3.09739 6.7019 3.18646C6.61535 3.27551 6.57208 3.38082 6.57208 3.50238V10.5344C6.57208 10.667 6.61662 10.7775 6.70569 10.8658C6.79476 10.9542 6.90373 10.9984 7.0326 10.9984ZM10.3371 10.9984C10.466 10.9984 10.5737 10.9542 10.6602 10.8658C10.7467 10.7775 10.79 10.667 10.79 10.5344V8.74756C10.79 8.63122 10.7451 8.52721 10.6553 8.43554C10.5655 8.34387 10.4593 8.29804 10.3367 8.29804C10.203 8.29804 10.0929 8.34387 10.0064 8.43554C9.91983 8.52721 9.87656 8.63122 9.87656 8.74756V10.5344C9.87656 10.667 9.9211 10.7775 10.0102 10.8658C10.0992 10.9542 10.2082 10.9984 10.3371 10.9984ZM1.16796 14.0512C0.854083 14.0512 0.580959 13.935 0.348584 13.7026C0.116195 13.4703 0 13.1971 0 12.8833V1.16796C0 0.854084 0.116195 0.580958 0.348584 0.348583C0.580959 0.116194 0.854083 0 1.16796 0H12.8833C13.1971 0 13.4703 0.116194 13.7026 0.348583C13.935 0.580958 14.0512 0.854084 14.0512 1.16796V12.8833C14.0512 13.1971 13.935 13.4703 13.7026 13.7026C13.4703 13.935 13.1971 14.0512 12.8833 14.0512H1.16796ZM1.16985 13.1378H12.8814C12.9455 13.1378 13.0042 13.1111 13.0576 13.0576C13.1111 13.0042 13.1378 12.9455 13.1378 12.8814V1.16985C13.1378 1.10576 13.1111 1.04699 13.0576 0.993562C13.0042 0.940145 12.9455 0.913438 12.8814 0.913438H1.16985C1.10576 0.913438 1.04699 0.940145 0.993563 0.993562C0.940146 1.04699 0.913438 1.10576 0.913438 1.16985V12.8814C0.913438 12.9455 0.940146 13.0042 0.993563 13.0576C1.04699 13.1111 1.10576 13.1378 1.16985 13.1378Z"
          fill="#56616B"
        />
      </svg>
    ),
  },
  {
    name: "Revenue",
    href: "#",
    icon: (
      <svg
        width="17"
        height="12"
        viewBox="0 0 17 12"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M1.42227 11.9406C1.03115 11.9406 0.696319 11.8014 0.417792 11.5229C0.139264 11.2443 0 10.9095 0 10.5184V3.03125C0 2.87272 0.057118 2.73627 0.171354 2.6219C0.28559 2.50752 0.422875 2.45033 0.583208 2.45033C0.743542 2.45033 0.880729 2.50752 0.994771 2.6219C1.10881 2.73627 1.16583 2.87272 1.16583 3.03125V10.5184C1.16583 10.5825 1.19255 10.6413 1.24598 10.6947C1.2994 10.7481 1.35816 10.7748 1.42227 10.7748H13.5216C13.6801 10.7748 13.8165 10.832 13.9309 10.9465C14.0453 11.0609 14.1025 11.1974 14.1025 11.356C14.1025 11.5177 14.0453 11.6555 13.9309 11.7696C13.8165 11.8836 13.6801 11.9406 13.5216 11.9406H1.42227ZM4.30525 9.07448C3.91413 9.07448 3.5793 8.93522 3.30077 8.65669C3.02224 8.37816 2.88298 8.04333 2.88298 7.65221V1.42227C2.88298 1.03115 3.02224 0.69632 3.30077 0.417792C3.5793 0.139264 3.91413 0 4.30525 0H15.1305C15.5216 0 15.8565 0.139264 16.135 0.417792C16.4135 0.69632 16.5528 1.03115 16.5528 1.42227V7.65221C16.5528 8.04333 16.4135 8.37816 16.135 8.65669C15.8565 8.93522 15.5216 9.07448 15.1305 9.07448H4.30525ZM5.50475 7.90865C5.50475 7.49999 5.36219 7.15238 5.07706 6.86579C4.79195 6.57919 4.4492 6.4359 4.04881 6.4359V7.65221C4.04881 7.72167 4.07419 7.78177 4.12496 7.83252C4.17571 7.88327 4.23581 7.90865 4.30525 7.90865H5.50475ZM13.931 7.90865H15.1305C15.2 7.90865 15.2601 7.88327 15.3108 7.83252C15.3616 7.78177 15.387 7.72167 15.387 7.65221V6.4359C14.9819 6.4359 14.638 6.57953 14.3552 6.86679C14.0724 7.15404 13.931 7.50133 13.931 7.90865ZM9.71469 6.49435C10.2654 6.49435 10.7284 6.30413 11.1037 5.92367C11.479 5.54322 11.6666 5.0782 11.6666 4.5286C11.6666 3.98478 11.4776 3.52408 11.0997 3.1465C10.7218 2.76893 10.2599 2.58015 9.71394 2.58015C9.16797 2.58015 8.70454 2.76755 8.32367 3.14235C7.94281 3.51717 7.75237 3.98107 7.75237 4.53404C7.75237 5.08345 7.94174 5.54751 8.32048 5.92625C8.6992 6.30499 9.16394 6.49435 9.71469 6.49435ZM4.04881 2.63858C4.45383 2.63858 4.79774 2.49496 5.08054 2.20771C5.36335 1.92045 5.50475 1.57315 5.50475 1.16583H4.30525C4.23581 1.16583 4.17571 1.19122 4.12496 1.24198C4.07419 1.29273 4.04881 1.35283 4.04881 1.42227V2.63858ZM15.387 2.63858V1.42227C15.387 1.35283 15.3616 1.29273 15.3108 1.24198C15.2601 1.19122 15.2 1.16583 15.1305 1.16583H13.931C13.931 1.57449 14.0736 1.92211 14.3587 2.20871C14.6438 2.49529 14.9866 2.63858 15.387 2.63858Z"
          fill="white"
        />
      </svg>
    ),
  },
  {
    name: "CRM",
    href: "#",
    icon: (
      <svg
        width="17"
        height="12"
        viewBox="0 0 17 12"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M0 9.98908C0 9.57061 0.106361 9.20015 0.319083 8.87769C0.53182 8.55522 0.821292 8.30294 1.1875 8.12085C1.96526 7.7422 2.7461 7.44964 3.53002 7.24317C4.31394 7.03671 5.17224 6.93348 6.10494 6.93348C7.03763 6.93348 7.8942 7.03671 8.67465 7.24317C9.45509 7.44964 10.236 7.74223 11.0174 8.12094C11.3829 8.30419 11.672 8.5569 11.8846 8.87908C12.0972 9.20126 12.2035 9.57142 12.2035 9.98954V10.56C12.2035 10.8724 12.0886 11.1474 11.8588 11.3852C11.629 11.623 11.35 11.7419 11.0216 11.7419H1.18185C0.853507 11.7419 0.574444 11.627 0.344667 11.3972C0.114889 11.1675 0 10.8884 0 10.56V9.98908ZM15.3334 11.7419H13.4911C13.5846 11.5619 13.6571 11.3726 13.7087 11.1741C13.7602 10.9756 13.786 10.7709 13.786 10.56V9.95508C13.786 9.41203 13.6626 8.89451 13.4158 8.40252C13.1691 7.91054 12.8066 7.49484 12.3285 7.15544C12.8579 7.24144 13.3613 7.36696 13.8386 7.532C14.3161 7.69703 14.7753 7.89576 15.2163 8.12819C15.6287 8.34506 15.9482 8.6059 16.175 8.91071C16.4018 9.21551 16.5151 9.54738 16.5151 9.90629V10.5576C16.5151 10.8883 16.3995 11.1683 16.1683 11.3978C15.9371 11.6272 15.6588 11.7419 15.3334 11.7419ZM6.10494 5.63135C5.32404 5.63135 4.65953 5.35731 4.11142 4.80921C3.56332 4.2611 3.28927 3.59659 3.28927 2.81569C3.28927 2.03477 3.56332 1.37026 4.11142 0.822168C4.65953 0.274057 5.32404 0 6.10494 0C6.88584 0 7.55035 0.274057 8.09846 0.822168C8.64656 1.37026 8.9206 2.03477 8.9206 2.81569C8.9206 3.59659 8.64656 4.2611 8.09846 4.80921C7.55035 5.35731 6.88584 5.63135 6.10494 5.63135ZM12.9975 2.80675C12.9975 3.58147 12.7234 4.24419 12.1753 4.7949C11.6272 5.34559 10.9627 5.62094 10.1818 5.62094C10.1033 5.62094 9.99905 5.61134 9.86911 5.59215C9.73915 5.57295 9.63212 5.55183 9.54802 5.52879C9.87263 5.14921 10.1214 4.72756 10.2943 4.26385C10.4672 3.80015 10.5536 3.31535 10.5536 2.80948C10.5536 2.30547 10.4647 1.82206 10.2868 1.35927C10.1089 0.896466 9.86266 0.471952 9.54802 0.0857302C9.65219 0.0472719 9.75849 0.0233688 9.86692 0.0140216C9.97536 0.00467433 10.0803 0 10.1818 0C10.9627 0 11.6272 0.274827 12.1753 0.824479C12.7234 1.37413 12.9975 2.03489 12.9975 2.80675ZM1.16583 10.5761H11.0376V9.99137C11.0376 9.8139 10.9941 9.65692 10.907 9.52042C10.82 9.38392 10.6797 9.26358 10.4863 9.15942C9.8044 8.81006 9.10787 8.54603 8.39673 8.36733C7.68561 8.18865 6.92227 8.09931 6.10671 8.09931C5.28881 8.09931 4.52314 8.18865 3.80971 8.36733C3.09628 8.54603 2.39875 8.81006 1.71713 9.15942C1.52107 9.26358 1.38017 9.38417 1.29444 9.52117C1.2087 9.65818 1.16583 9.81458 1.16583 9.99035V10.5761ZM6.10365 4.46552C6.55856 4.46552 6.94748 4.30449 7.2704 3.98244C7.59331 3.66038 7.75477 3.2719 7.75477 2.81698C7.75477 2.36205 7.59374 1.97313 7.27169 1.65021C6.94963 1.32729 6.56115 1.16583 6.10623 1.16583C5.65131 1.16583 5.2624 1.32686 4.93948 1.64892C4.61656 1.97097 4.4551 2.35947 4.4551 2.8144C4.4551 3.26931 4.61613 3.65823 4.93819 3.98115C5.26024 4.30406 5.64873 4.46552 6.10365 4.46552Z"
          fill="#56616B"
        />
      </svg>
    ),
  },
  {
    name: "Apps",
    href: "#",
    icon: (
      <svg
        width="15"
        height="15"
        viewBox="0 0 15 15"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M10.0304 7.38936L6.96954 4.32848C6.89154 4.25049 6.83651 4.16788 6.80446 4.08063C6.77242 3.99338 6.7564 3.8999 6.7564 3.80019C6.7564 3.70047 6.77242 3.60733 6.80446 3.52079C6.83651 3.43427 6.89154 3.352 6.96954 3.274L10.0304 0.213146C10.1084 0.13516 10.191 0.0801398 10.2782 0.0480843C10.3655 0.0160287 10.459 0 10.5587 0C10.6584 0 10.7515 0.0160287 10.8381 0.0480843C10.9246 0.0801398 11.0069 0.13516 11.0849 0.213146L14.1457 3.274C14.2237 3.352 14.2788 3.43463 14.3108 3.52188C14.3428 3.60913 14.3589 3.70261 14.3589 3.80231C14.3589 3.90204 14.3428 3.99516 14.3108 4.08169C14.2788 4.16823 14.2237 4.25049 14.1457 4.32848L11.0849 7.38936C11.0069 7.46734 10.9243 7.52236 10.837 7.55442C10.7498 7.58646 10.6563 7.60248 10.5566 7.60248C10.4569 7.60248 10.3637 7.58646 10.2772 7.55442C10.1906 7.52236 10.1084 7.46734 10.0304 7.38936ZM0 5.76919V1.44231C0 1.2289 0.0721805 1.05001 0.216542 0.905646C0.360903 0.761285 0.539792 0.689105 0.753208 0.689105H5.08008C5.29349 0.689105 5.47237 0.761285 5.61673 0.905646C5.76109 1.05001 5.83327 1.2289 5.83327 1.44231V5.76919C5.83327 5.98259 5.76109 6.16147 5.61673 6.30583C5.47237 6.4502 5.29349 6.52238 5.08008 6.52238H0.753208C0.539792 6.52238 0.360903 6.4502 0.216542 6.30583C0.0721805 6.16147 0 5.98259 0 5.76919ZM7.82048 13.5896V9.26277C7.82048 9.04937 7.89266 8.87049 8.03702 8.72613C8.18138 8.58177 8.36026 8.50958 8.57367 8.50958H12.9005C13.114 8.50958 13.2928 8.58177 13.4372 8.72613C13.5816 8.87049 13.6538 9.04937 13.6538 9.26277V13.5896C13.6538 13.8031 13.5816 13.982 13.4372 14.1263C13.2928 14.2707 13.114 14.3429 12.9005 14.3429H8.57367C8.36026 14.3429 8.18138 14.2707 8.03702 14.1263C7.89266 13.982 7.82048 13.8031 7.82048 13.5896ZM0 13.5896V9.26277C0 9.04937 0.0721805 8.87049 0.216542 8.72613C0.360903 8.58177 0.539792 8.50958 0.753208 8.50958H5.08008C5.29349 8.50958 5.47237 8.58177 5.61673 8.72613C5.76109 8.87049 5.83327 9.04937 5.83327 9.26277V13.5896C5.83327 13.8031 5.76109 13.982 5.61673 14.1263C5.47237 14.2707 5.29349 14.3429 5.08008 14.3429H0.753208C0.539792 14.3429 0.360903 14.2707 0.216542 14.1263C0.0721805 13.982 0 13.8031 0 13.5896ZM1.24998 5.27242H4.58331V1.93908H1.24998V5.27242ZM10.5785 6.17625L12.9326 3.82208L10.5785 1.46792L8.22429 3.82208L10.5785 6.17625ZM9.07044 13.0929H12.4038V9.75954H9.07044V13.0929ZM1.24998 13.0929H4.58331V9.75954H1.24998V13.0929Z"
          fill="#56616B"
        />
      </svg>
    ),
  },
];

const appsMenuItems = [
  {
    label: "Link in Bio",
    description: "Manage your Link in Bio",
    icon: (
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M12.5073 12.9H8.50732C6.15732 12.9 4.25732 11 4.25732 8.65V8.25C4.25732 5.9 6.15732 4 8.50732 4H12.5073C14.8573 4 16.7573 5.9 16.7573 8.25V8.65C16.7573 10.99 14.8473 12.9 12.5073 12.9Z"
          stroke="url(#paint0_linear_21967_1127)"
          strokeWidth="2.7"
          strokeMiterlimit="10"
        />
        <path
          d="M16.7773 16.9H12.7773C10.4273 16.9 8.52734 15 8.52734 12.65V12.25C8.52734 9.9 10.4273 8 12.7773 8H16.7773C19.1273 8 21.0273 9.9 21.0273 12.25V12.65C21.0273 15 19.1273 16.9 16.7773 16.9Z"
          stroke="url(#paint1_linear_21967_1127)"
          strokeWidth="2.7"
          strokeMiterlimit="10"
        />
        <path
          d="M5.4575 18.6L5.2075 18.99C5.1475 19.09 5.0275 19.12 4.9375 19.06L3.6575 18.3C3.5575 18.24 3.5275 18.12 3.5875 18.03L3.8375 17.64C3.8975 17.54 3.8675 17.42 3.7675 17.37L3.0975 16.98C2.9675 16.9 2.9675 16.71 3.0975 16.63L6.4375 14.75C6.5775 14.67 6.7375 14.77 6.7375 14.93L6.6975 18.77C6.6975 18.92 6.5275 19.02 6.3975 18.94L5.7275 18.55C5.6475 18.47 5.5175 18.51 5.4575 18.6Z"
          fill="url(#paint2_linear_21967_1127)"
        />
        <defs>
          <linearGradient
            id="paint0_linear_21967_1127"
            x1="2.89818"
            y1="8.44539"
            x2="18.1055"
            y2="8.44539"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#870FFF" />
            <stop offset="1" stopColor="#E7CFFF" />
          </linearGradient>
          <linearGradient
            id="paint1_linear_21967_1127"
            x1="7.16915"
            y1="12.4546"
            x2="22.3765"
            y2="12.4546"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#FFDDCD" />
            <stop offset="1" stopColor="#FF5403" />
          </linearGradient>
          <linearGradient
            id="paint2_linear_21967_1127"
            x1="3.66394"
            y1="15.6385"
            x2="7.30948"
            y2="17.8092"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#FCFF1C" />
            <stop offset="1" stopColor="#FF9D0A" />
          </linearGradient>
        </defs>
      </svg>
    ),
  },
  {
    label: "Store",
    description: "Manage your Store activities",
    icon: (
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M18.9998 22.0599H4.97984C4.62984 22.0599 4.33984 21.7799 4.33984 21.4199V7.39995C4.33984 7.04995 4.61984 6.75995 4.97984 6.75995H18.9998C19.3498 6.75995 19.6398 7.03995 19.6398 7.39995V21.4199C19.6398 21.7699 19.3498 22.0599 18.9998 22.0599Z"
          fill="url(#paint0_linear_21967_1132)"
        />
        <path
          d="M20.4602 15.72L7.59017 5.22003C7.13017 4.84003 7.39017 4.09003 7.99017 4.09003H20.8602C21.2102 4.09003 21.5002 4.37003 21.5002 4.73003V15.24C21.5002 15.77 20.8802 16.06 20.4602 15.72Z"
          fill="url(#paint1_linear_21967_1132)"
        />
        <path
          d="M3.54 13.58L16.41 3.07C16.87 2.69 16.61 1.94 16.01 1.94H3.14C2.79 1.94 2.5 2.22 2.5 2.58V13.09C2.5 13.62 3.12 13.92 3.54 13.58Z"
          fill="url(#paint2_linear_21967_1132)"
        />
        <defs>
          <linearGradient
            id="paint0_linear_21967_1132"
            x1="4.34182"
            y1="14.4112"
            x2="19.6375"
            y2="14.4112"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#FF9868" />
            <stop offset="1" stopColor="#FF5403" />
          </linearGradient>
          <linearGradient
            id="paint1_linear_21967_1132"
            x1="7.35294"
            y1="9.97921"
            x2="21.5002"
            y2="9.97921"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#03FFE5" />
            <stop offset="1" stopColor="#14B348" />
          </linearGradient>
          <linearGradient
            id="paint2_linear_21967_1132"
            x1="2.5"
            y1="7.8319"
            x2="16.6472"
            y2="7.8319"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#FCFF1C" />
            <stop offset="1" stopColor="#FF9D0A" />
          </linearGradient>
        </defs>
      </svg>
    ),
  },
  {
    label: "Media Kit",
    description: "Manage your Media Kit",
    icon: (
      <svg
        width="20"
        height="19"
        viewBox="0 0 20 19"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M13.8403 2.37V8.47C13.8403 8.86 13.5303 9.17 13.1403 9.17H7.98027C7.59027 9.17 7.28027 8.86 7.28027 8.47V7.5H2.98027C2.59027 7.5 2.28027 7.19 2.28027 6.8V0.7C2.28027 0.31 2.59027 0 2.98027 0H8.14027C8.53027 0 8.84027 0.31 8.84027 0.7V1.67H13.1403C13.5203 1.67 13.8403 1.99 13.8403 2.37Z"
          fill="url(#paint0_linear_21967_1139)"
        />
        <path
          d="M9.59 11.6299H0.7C0.31 11.6299 0 11.3199 0 10.9299V3.99993C0 3.60993 0.31 3.29993 0.7 3.29993H9.59C9.98 3.29993 10.29 3.60993 10.29 3.99993V10.9299C10.29 11.3199 9.98 11.6299 9.59 11.6299Z"
          fill="url(#paint1_linear_21967_1139)"
        />
        <path
          d="M19.3 18.89H0.7C0.31 18.89 0 18.58 0 18.19V5.91997C0 5.52997 0.31 5.21997 0.7 5.21997H19.3C19.69 5.21997 20 5.52997 20 5.91997V18.19C20 18.58 19.69 18.89 19.3 18.89Z"
          fill="url(#paint2_linear_21967_1139)"
        />
        <defs>
          <linearGradient
            id="paint0_linear_21967_1139"
            x1="2.27548"
            y1="4.58745"
            x2="13.8365"
            y2="4.58745"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#FCFF1C" />
            <stop offset="1" stopColor="#FF9D0A" />
          </linearGradient>
          <linearGradient
            id="paint1_linear_21967_1139"
            x1="0"
            y1="7.46731"
            x2="10.293"
            y2="7.46731"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#E7CFFF" />
            <stop offset="1" stopColor="#870FFF" />
          </linearGradient>
          <linearGradient
            id="paint2_linear_21967_1139"
            x1="0"
            y1="12.0593"
            x2="20"
            y2="12.0593"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#03FFE5" />
            <stop offset="1" stopColor="#14B348" />
          </linearGradient>
        </defs>
      </svg>
    ),
  },
  {
    label: "Invoicing",
    description: "Manage your Invoices",
    icon: (
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M20.5202 6.64998V21.05C20.5202 21.63 20.0502 22.1 19.4702 22.1H9.29023C8.71023 22.1 8.24023 21.63 8.24023 21.05V20.16L17.3402 16.72C17.7002 16.58 17.9402 16.24 17.9402 15.85V5.59998H19.4702C20.0502 5.59998 20.5202 6.06998 20.5202 6.64998Z"
          fill="url(#paint0_linear_21967_1144)"
        />
        <path
          d="M17.9402 5.59998V15.86C17.9402 16.25 17.7002 16.59 17.3402 16.73L8.24023 20.17V6.64998C8.24023 6.06998 8.71023 5.59998 9.29023 5.59998H17.9402Z"
          fill="url(#paint1_linear_21967_1144)"
        />
        <path
          d="M17.94 2.92999V5.59999H9.28998C8.70998 5.59999 8.23998 6.06999 8.23998 6.64999V20.17L4.73998 21.49C4.12998 21.72 3.47998 21.27 3.47998 20.62V2.91999C3.47998 2.40999 3.89998 1.98999 4.40998 1.98999H17.01C17.52 1.99999 17.94 2.41999 17.94 2.92999Z"
          fill="url(#paint2_linear_21967_1144)"
        />
        <defs>
          <linearGradient
            id="paint0_linear_21967_1144"
            x1="8.2422"
            y1="13.8522"
            x2="20.5182"
            y2="13.8522"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#FCFF1C" />
            <stop offset="1" stopColor="#FF9D0A" />
          </linearGradient>
          <linearGradient
            id="paint1_linear_21967_1144"
            x1="8.2422"
            y1="12.8857"
            x2="17.9372"
            y2="12.8857"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#FFDDCD" />
            <stop offset="1" stopColor="#FF5403" />
          </linearGradient>
          <linearGradient
            id="paint2_linear_21967_1144"
            x1="3.48199"
            y1="11.7778"
            x2="17.937"
            y2="11.7778"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#E7CFFF" />
            <stop offset="1" stopColor="#870FFF" />
          </linearGradient>
        </defs>
      </svg>
    ),
  },
  {
    label: "Bookings",
    description: "Manage your Bookings",
    icon: (
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M20.5202 6.64998V21.05C20.5202 21.63 20.0502 22.1 19.4702 22.1H9.29023C8.71023 22.1 8.24023 21.63 8.24023 21.05V20.16L17.3402 16.72C17.7002 16.58 17.9402 16.24 17.9402 15.85V5.59998H19.4702C20.0502 5.59998 20.5202 6.06998 20.5202 6.64998Z"
          fill="url(#paint0_linear_booking)"
        />
        <path
          d="M17.9402 5.59998V15.86C17.9402 16.25 17.7002 16.59 17.3402 16.73L8.24023 20.17V6.64998C8.24023 6.06998 8.71023 5.59998 9.29023 5.59998H17.9402Z"
          fill="url(#paint1_linear_booking)"
        />
        <path
          d="M17.94 2.92999V5.59999H9.28998C8.70998 5.59999 8.23998 6.06999 8.23998 6.64999V20.17L4.73998 21.49C4.12998 21.72 3.47998 21.27 3.47998 20.62V2.91999C3.47998 2.40999 3.89998 1.98999 4.40998 1.98999H17.01C17.52 1.99999 17.94 2.41999 17.94 2.92999Z"
          fill="url(#paint2_linear_booking)"
        />
        <defs>
          <linearGradient
            id="paint0_linear_booking"
            x1="8.2422"
            y1="13.8522"
            x2="20.5182"
            y2="13.8522"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#03FFE5" />
            <stop offset="1" stopColor="#14B348" />
          </linearGradient>
          <linearGradient
            id="paint1_linear_booking"
            x1="8.2422"
            y1="12.8857"
            x2="17.9372"
            y2="12.8857"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#FFDDCD" />
            <stop offset="1" stopColor="#FF5403" />
          </linearGradient>
          <linearGradient
            id="paint2_linear_booking"
            x1="3.48199"
            y1="11.7778"
            x2="17.937"
            y2="11.7778"
            gradientUnits="userSpaceOnUse">
            <stop stopColor="#E7CFFF" />
            <stop offset="1" stopColor="#870FFF" />
          </linearGradient>
        </defs>
      </svg>
    ),
  },
];

export function Navbar() {
  const { user } = useUser();
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isAppsMenuOpen, setIsAppsMenuOpen] = useState(false);

  const initials = user ? `${user.first_name[0]}${user.last_name[0]}` : "OJ";

  return (
    <div className="sticky top-4 z-50 px-6 mb-8">
      <nav className="h-16 bg-white rounded-full px-6 flex items-center justify-between shadow-sm mx-auto max-w-[1550px]">
        {/* Logo */}
        <div className="flex cursor-pointer items-center gap-2">
          <svg
            width="36"
            height="36"
            viewBox="0 0 36 36"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M29.0842 12.5509H24.301C24.0719 12.5509 23.8521 12.4598 23.6901 12.2978C23.528 12.1358 23.437 11.916 23.437 11.6868V6.96123C23.437 6.73208 23.528 6.51232 23.6901 6.35029C23.8521 6.18826 24.0719 6.09723 24.301 6.09723H26.1778C28.2598 6.09723 29.9482 7.78443 29.9482 9.86644V11.6868C29.9482 11.916 29.8572 12.1358 29.6951 12.2978C29.5331 12.4598 29.3134 12.5509 29.0842 12.5509Z"
              fill="#131316"
            />
            <path
              d="M6.0625 26.1516V15.6012C6.0625 15.4877 6.08485 15.3754 6.12827 15.2705C6.17169 15.1657 6.23533 15.0705 6.31556 14.9902C6.39579 14.91 6.49104 14.8464 6.59586 14.803C6.70069 14.7595 6.81304 14.7372 6.9265 14.7372H11.6833C11.9124 14.7372 12.1322 14.8282 12.2942 14.9902C12.4563 15.1523 12.5473 15.372 12.5473 15.6012V29.058C12.5473 29.2871 12.4563 29.5069 12.2942 29.6689C12.1322 29.831 11.9124 29.922 11.6833 29.922H9.8329C7.7509 29.922 6.0625 28.2336 6.0625 26.1516Z"
              fill="#131316"
            />
            <path
              d="M14.748 26.1516V15.6012C14.748 15.372 14.8391 15.1523 15.0011 14.9902C15.1631 14.8282 15.3829 14.7372 15.612 14.7372H20.3688C20.598 14.7372 20.8178 14.8282 20.9798 14.9902C21.1418 15.1523 21.2328 15.372 21.2328 15.6012V29.058C21.2328 29.2871 21.1418 29.5069 20.9798 29.6689C20.8178 29.831 20.598 29.922 20.3688 29.922H18.5184C16.4364 29.922 14.748 28.2336 14.748 26.1516Z"
              fill="#131316"
            />
            <path
              d="M23.4336 26.1516V15.6012C23.4336 15.372 23.5246 15.1523 23.6866 14.9902C23.8487 14.8282 24.0684 14.7372 24.2976 14.7372H29.0543C29.2835 14.7372 29.5032 14.8282 29.6652 14.9902C29.8273 15.1523 29.9183 15.372 29.9183 15.6012V29.058C29.9183 29.2871 29.8273 29.5069 29.6652 29.6689C29.5032 29.831 29.2835 29.922 29.0543 29.922H27.2039C25.122 29.922 23.4336 28.2336 23.4336 26.1516Z"
              fill="#131316"
            />
            <path
              d="M17.5417 6.0876L6.91816 6.078C6.68922 6.078 6.46964 6.16887 6.30764 6.33064C6.14565 6.49241 6.05448 6.71186 6.05416 6.9408L6.05176 8.838C6.05056 10.8768 7.70176 12.5328 9.74175 12.534L20.3653 12.5448C20.5946 12.5448 20.8145 12.4538 20.9767 12.2918C21.1389 12.1298 21.2302 11.9101 21.2305 11.6808V9.7848C21.2341 7.7448 19.5817 6.09 17.5417 6.0876Z"
              fill="#131316"
            />
          </svg>
        </div>

        {/* Navigation */}
        <div className="hidden md:flex items-center gap-8">
          {navItems.map((item) => {
            const isActive = item.name === "Revenue";
            const isApps = item.name === "Apps";

            if (isApps) {
              return (
                <div key={item.name} className="relative">
                  <button
                    onClick={() => setIsAppsMenuOpen(!isAppsMenuOpen)}
                    className={cn(
                      "flex items-center gap-2 text-sm cursor-pointer font-medium transition-all px-4 py-2 rounded-full",
                      isAppsMenuOpen
                        ? "bg-black text-white" // Active state when dropdown open
                        : "text-gray-500 hover:text-black hover:bg-gray-50"
                    )}>
                    {/* Icon color: white when active, gray otherwise */}
                    <span
                      className={cn(isAppsMenuOpen && "brightness-0 invert")}>
                      {item.icon}
                    </span>
                    <span>Apps</span>

                    {/* Show "Link in Bio" + chevron when dropdown is open */}
                    {isAppsMenuOpen && (
                      <div className="ml-3 flex items-center gap-1 whitespace-nowrap">
                        <span className="text-xs font-normal opacity-90">
                          Link in Bio
                        </span>
                        <ChevronRight size={14} className="rotate-90" />
                      </div>
                    )}
                  </button>

                  {/* Dropdown Menu */}
                  {isAppsMenuOpen && (
                    <div className="absolute left-0 top-12 w-80 bg-white rounded-2xl shadow-xl border border-gray-100 p-2 z-50 animate-in fade-in slide-in-from-top-2">
                      {appsMenuItems.map((app) => (
                        <button
                          key={app.label}
                          className="w-full cursor-pointer hover:scale-101 hover:shadow-md flex items-center gap-3 px-3 py-3 text-sm font-medium text-gray-800 hover:text-black hover:bg-gray-50 rounded-lg transition-all group">
                          <div className="shrink-0 px-2 py-2 border border-gray-100 rounded-lg">
                            {app.icon}
                          </div>
                          <div className="flex-1 text-left">
                            <div className="font-bold">{app.label}</div>
                            <div className="text-xs text-gray-500">
                              {app.description}
                            </div>
                          </div>
                          <ChevronRight
                            size={16}
                            className="text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"
                          />
                        </button>
                      ))}
                    </div>
                  )}
                </div>
              );
            }

            return (
              <Link
                key={item.name}
                href={item.href}
                className={cn(
                  "flex items-center gap-2 text-sm font-medium transition-colors px-4 py-2 rounded-full",
                  isActive
                    ? "bg-black text-white"
                    : "text-gray-500 hover:text-black hover:bg-gray-50"
                )}>
                {item.icon}
                <span>{item.name}</span>
              </Link>
            );
          })}
        </div>

        {/* Right Actions */}
        <div className="flex items-center gap-4">
          <button className="text-gray-500 cursor-pointer hover:text-black p-2 hover:bg-gray-50 rounded-full">
            <svg
              width="13"
              height="16"
              viewBox="0 0 13 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M0.625 13.6538C0.447917 13.6538 0.299479 13.5939 0.179688 13.4741C0.0598958 13.3542 0 13.2057 0 13.0286C0 12.8514 0.0598958 12.703 0.179688 12.5833C0.299479 12.4637 0.447917 12.4039 0.625 12.4039H1.50642V6.18588C1.50642 5.06515 1.8523 4.07424 2.54406 3.21313C3.23584 2.35201 4.12393 1.80127 5.20833 1.5609V1.04167C5.20833 0.75232 5.30951 0.506376 5.51188 0.303834C5.71424 0.101279 5.95996 0 6.24904 0C6.53813 0 6.78416 0.101279 6.98715 0.303834C7.19013 0.506376 7.29163 0.75232 7.29163 1.04167V1.5609C8.37603 1.80127 9.26412 2.35201 9.9559 3.21313C10.6477 4.07424 10.9935 5.06515 10.9935 6.18588V12.4039H11.875C12.052 12.4039 12.2005 12.4638 12.3203 12.5836C12.4401 12.7035 12.5 12.852 12.5 13.0291C12.5 13.2063 12.4401 13.3547 12.3203 13.4743C12.2005 13.594 12.052 13.6538 11.875 13.6538H0.625ZM6.24856 15.9935C5.83391 15.9935 5.47942 15.846 5.18508 15.551C4.89075 15.256 4.74358 14.9014 4.74358 14.4871H7.75638C7.75638 14.9027 7.60874 15.2577 7.31346 15.552C7.01818 15.8464 6.66322 15.9935 6.24856 15.9935ZM2.75638 12.4039H9.74358V6.18588C9.74358 5.22113 9.4025 4.39767 8.72033 3.71552C8.03818 3.03335 7.21473 2.69227 6.24998 2.69227C5.28523 2.69227 4.46178 3.03335 3.77963 3.71552C3.09746 4.39767 2.75638 5.22113 2.75638 6.18588V12.4039Z"
                fill="#56616B"
              />
            </svg>
          </button>
          <button className="text-gray-500 cursor-pointer hover:text-black p-2 hover:bg-gray-50 rounded-full">
            <svg
              width="16"
              height="15"
              viewBox="0 0 16 15"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M3.74998 9.37496H8.74998C8.92733 9.37496 9.07583 9.31513 9.19548 9.19548C9.31513 9.07583 9.37496 8.92733 9.37496 8.74998C9.37496 8.57263 9.31513 8.42413 9.19548 8.30448C9.07583 8.18483 8.92733 8.125 8.74998 8.125H3.74998C3.57263 8.125 3.42413 8.18483 3.30448 8.30448C3.18483 8.42413 3.125 8.57263 3.125 8.74998C3.125 8.92733 3.18483 9.07583 3.30448 9.19548C3.42413 9.31513 3.57263 9.37496 3.74998 9.37496ZM3.74998 6.87496H12.0833C12.2607 6.87496 12.4092 6.81513 12.5288 6.69548C12.6485 6.57583 12.7083 6.42733 12.7083 6.24998C12.7083 6.07263 12.6485 5.92413 12.5288 5.80448C12.4092 5.68483 12.2607 5.625 12.0833 5.625H3.74998C3.57263 5.625 3.42413 5.68483 3.30448 5.80448C3.18483 5.92413 3.125 6.07263 3.125 6.24998C3.125 6.42733 3.18483 6.57583 3.30448 6.69548C3.42413 6.81513 3.57263 6.87496 3.74998 6.87496ZM3.74998 4.37496H12.0833C12.2607 4.37496 12.4092 4.31513 12.5288 4.19548C12.6485 4.07583 12.7083 3.92733 12.7083 3.74998C12.7083 3.57263 12.6485 3.42413 12.5288 3.30448C12.4092 3.18483 12.2607 3.125 12.0833 3.125H3.74998C3.57263 3.125 3.42413 3.18483 3.30448 3.30448C3.18483 3.42413 3.125 3.57263 3.125 3.74998C3.125 3.92733 3.18483 4.07583 3.30448 4.19548C3.42413 4.31513 3.57263 4.37496 3.74998 4.37496ZM2.94871 12.5L1.28046 14.1682C1.04328 14.4054 0.770576 14.4591 0.462354 14.3293C0.154118 14.1994 0 13.9657 0 13.6281V1.50642C0 1.08547 0.145833 0.729167 0.4375 0.4375C0.729167 0.145833 1.08547 0 1.50642 0H14.3269C14.7478 0 15.1041 0.145833 15.3958 0.4375C15.6875 0.729167 15.8333 1.08547 15.8333 1.50642V10.9935C15.8333 11.4145 15.6875 11.7708 15.3958 12.0625C15.1041 12.3541 14.7478 12.5 14.3269 12.5H2.94871ZM2.41667 11.25H14.3269C14.391 11.25 14.4498 11.2233 14.5032 11.1699C14.5566 11.1164 14.5833 11.0577 14.5833 10.9935V1.50642C14.5833 1.44231 14.5566 1.38354 14.5032 1.3301C14.4498 1.27669 14.391 1.24998 14.3269 1.24998H1.50642C1.44231 1.24998 1.38353 1.27669 1.3301 1.3301C1.27669 1.38354 1.24998 1.44231 1.24998 1.50642V12.4038L2.41667 11.25Z"
                fill="#56616B"
              />
            </svg>
          </button>

          <div className="relative">
            <div
              onClick={() => setIsMenuOpen(!isMenuOpen)}
              className="flex items-center gap-2 bg-gray-100 rounded-full py-1 px-2 cursor-pointer hover:bg-gray-200 transition-colors">
              <div className="w-8 h-8 bg-black text-white rounded-full flex items-center justify-center text-xs font-bold uppercase">
                {initials}
              </div>
              <Menu size={16} className="text-gray-500" />
            </div>

            {isMenuOpen && (
              <div className="absolute right-0 top-12 w-64 bg-white rounded-2xl shadow-xl border border-gray-100 p-2 z-50 animate-in fade-in slide-in-from-top-2">
                <div className="p-3 border-b flex flex-col border-gray-100 mb-2">
                  <div className="flex flex-row items-center gap-2">
                    <div className="w-8 h-8 bg-black text-white rounded-full flex items-center justify-center text-xs font-bold uppercase">
                      {initials}
                    </div>
                    <p className="font-bold text-sm">
                      {user?.first_name} {user?.last_name}
                    </p>
                  </div>
                  <p className="text-xs text-gray-500">{user?.email}</p>
                </div>
                {[
                  { label: "Settings", icon: Settings },
                  { label: "Purchase History", icon: FileText },
                  { label: "Refer and Earn", icon: Gift },
                  { label: "Integrations", icon: Grid },
                  { label: "Report Bug", icon: Bug },
                  { label: "Switch Account", icon: UserPlus },
                  { label: "Sign Out", icon: LogOut },
                ].map((item) => (
                  <button
                    key={item.label}
                    className="w-full flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-800 hover:text-black hover:bg-gray-50 rounded-lg transition-colors">
                    <item.icon size={18} />
                    {item.label}
                  </button>
                ))}
              </div>
            )}
          </div>
        </div>
      </nav>
    </div>
  );
}
